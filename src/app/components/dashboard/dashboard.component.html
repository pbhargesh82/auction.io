<!-- Dashboard Content -->
<div class="p-4 lg:p-6 bg-gray-50 min-h-screen">
      
  @if (loading()) {
    <!-- Loading State -->
    <div class="flex items-center justify-center py-12">
      <div class="flex flex-col items-center space-y-4">
        <mat-icon fontSize="32" class="animate-spin text-indigo-600">autorenew</mat-icon>
        <p class="text-gray-600">Loading your dashboard...</p>
      </div>
    </div>
  } @else if (error()) {
    <!-- Error State -->
    <div class="bg-red-50 border border-red-200 rounded-lg p-4 lg:p-6">
      <div class="flex items-center">
        <mat-icon fontSize="24" class="text-red-600 mr-3">error</mat-icon>
        <p class="text-red-800 font-medium">{{ error() }}</p>
      </div>
    </div>
  } @else {
    <!-- Dashboard Content -->
    
    <!-- Welcome Message -->
    <!-- <div class="mb-6 lg:mb-8">
      <h2 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-2">{{ welcomeMessage() }}</h2>
      <p class="text-gray-600 text-sm lg:text-base">Here's your auction dashboard overview</p>
    </div> -->

    <!-- Overall Statistics -->
    <div class="grid grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8">
      <!-- Total Players -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between">
          <div class="mb-2 lg:mb-0">
            <p class="text-sm font-medium text-gray-600 mb-1">Total Players</p>
            <p class="text-2xl lg:text-4xl font-bold text-gray-900">{{ formatNumber(playerStats().totalPlayers) }}</p>
            <p class="text-sm text-gray-500 mt-1">Registered</p>
          </div>
          <div class="w-10 h-10 lg:w-12 lg:h-12 bg-blue-100 rounded-lg flex items-center justify-center self-start lg:self-auto">
            <mat-icon fontSize="32" [style.color]="'#1e40af'">sports_cricket</mat-icon>
          </div>
        </div>
      </div>

      <!-- Sold Players -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between">
          <div class="mb-2 lg:mb-0">
            <p class="text-sm font-medium text-gray-600 mb-1">Sold Players</p>
            <p class="text-2xl lg:text-4xl font-bold text-green-600">{{ formatNumber(playerStats().soldPlayers) }}</p>
            <p class="text-sm text-green-500 mt-1">Auctioned</p>
          </div>
          <div class="w-10 h-10 lg:w-12 lg:h-12 bg-green-100 rounded-lg flex items-center justify-center self-start lg:self-auto">
            <mat-icon fontSize="32" [style.color]="'#166534'">check_circle</mat-icon>
          </div>
        </div>
      </div>

      <!-- Available Players -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-3 hover:shadow-md transition-shadow">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between">
          <div class="mb-2 lg:mb-0">
            <p class="text-sm font-medium text-gray-600 mb-1">Available</p>
            <p class="text-2xl lg:text-4xl font-bold text-orange-600">{{ formatNumber(playerStats().availablePlayers) }}</p>
            <p class="text-sm text-orange-500 mt-1">For auction</p>
          </div>
          <div class="w-10 h-10 lg:w-12 lg:h-12 bg-orange-100 rounded-lg flex items-center justify-center self-start lg:self-auto">
            <mat-icon fontSize="32" [style.color]="'#9a3412'">hourglass_empty</mat-icon>
          </div>
        </div>
      </div>


    </div>

    <!-- Quick Actions -->
    <div class="mb-6 lg:mb-8">
      <div class="flex flex-col sm:flex-row gap-3 lg:gap-4">
        @if (isAdmin()) {
          <button 
            (click)="startAuction()"
            class="bg-green-600 hover:bg-green-700 text-white px-4 lg:px-6 py-3 lg:py-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 text-sm lg:text-base min-h-[48px] shadow-lg">
            <mat-icon fontSize="24" class="flex-shrink-0">gavel</mat-icon>
            <span>Start Auction</span>
          </button>
          <button 
            (click)="navigateToAuctionConfig()"
            class="bg-purple-600 hover:bg-purple-700 text-white px-4 lg:px-6 py-3 lg:py-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 text-sm lg:text-base min-h-[48px]">
            <mat-icon fontSize="24" class="flex-shrink-0">settings</mat-icon>
            <span>Auction Config</span>
          </button>
        }
        <button 
          (click)="navigateToTeams()"
          class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 lg:px-6 py-3 lg:py-4 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2 text-sm lg:text-base min-h-[48px]">
          <mat-icon fontSize="24" class="flex-shrink-0">groups</mat-icon>
          <span>{{ isAdmin() ? 'Manage' : 'View' }} Teams</span>
        </button>
        <button 
          (click)="navigateToPlayers()"
          class="bg-white hover:bg-gray-50 text-gray-700 px-4 lg:px-6 py-3 lg:py-4 rounded-lg font-medium border border-gray-300 transition-colors flex items-center justify-center space-x-2 text-sm lg:text-base min-h-[48px]">
          <mat-icon fontSize="24" class="flex-shrink-0">sports_cricket</mat-icon>
          <span>{{ isAdmin() ? 'Manage' : 'View' }} Players</span>
        </button>
      </div>
    </div>

    <!-- Teams Grid -->
    <div class="mb-6 lg:mb-8">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-xl font-semibold text-gray-900">Teams Overview</h3>
        <div class="flex items-center gap-4">
          <span class="text-sm text-gray-500">{{ teamsWithPlayers().length }} teams</span>
          <button 
            (click)="refreshData()"
            [disabled]="loading()"
            class="bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 text-sm">
            <mat-icon fontSize="20">refresh</mat-icon>
            Refresh
          </button>
        </div>
      </div>
      
      @if (teamsWithPlayers().length === 0) {
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center">
          <mat-icon fontSize="64" class="text-gray-400 mx-auto mb-4">groups</mat-icon>
          <h3 class="text-lg font-medium text-gray-900 mb-2">No teams found</h3>
          <p class="text-gray-600 mb-6">Get started by creating your first team.</p>
          <button 
            (click)="navigateToTeams()"
            class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
            {{ isAdmin() ? 'Create First Team' : 'View Teams' }}
          </button>
        </div>
      } @else {
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6">
          @for (team of teamsWithPlayers(); track team.id) {
            <app-team-card 
              [team]="team" 
              [config]="{ 
                showPlayers: false, 
                showActions: false, 
                showBudgetDetails: true, 
                showPlayerStats: true, 
                variant: 'dashboard' 
              }">
            </app-team-card>
          }
        </div>
      }
    </div>

    <!-- Budget Summary -->
    <!-- <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">Budget Summary</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                 <div class="text-center p-4 bg-blue-50 rounded-lg">
           <p class="text-sm font-medium text-blue-600 mb-1">Total Budget</p>
           <p class="text-2xl font-bold text-blue-900">
             {{ formatCurrency(totalBudgetCap()) }}
           </p>
         </div>
        <div class="text-center p-4 bg-green-50 rounded-lg">
          <p class="text-sm font-medium text-green-600 mb-1">Budget Spent</p>
          <p class="text-2xl font-bold text-green-900">{{ formatCurrency(totalBudgetSpent()) }}</p>
        </div>
        <div class="text-center p-4 bg-orange-50 rounded-lg">
          <p class="text-sm font-medium text-orange-600 mb-1">Budget Remaining</p>
          <p class="text-2xl font-bold text-orange-900">{{ formatCurrency(totalBudgetRemaining()) }}</p>
        </div>
      </div>
    </div> -->
  }
</div> 